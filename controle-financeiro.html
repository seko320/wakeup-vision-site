<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Controle Financeiro WUV</title>
    <link rel="stylesheet" href="https://use.typekit.net/zeq5iey.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --turquesa-principal: #20B2AA;
            --preto-elegante: #1a1a1a;
            --off-white: #F9F9F9;
            --dourado-premium: #FFD43B;
            --cinza-sofisticado: #4A4A4A;
            --verde-sucesso: #51CF66;
            --vermelho-alerta: #E53E3E;
        }
        body {
            font-family: 'dita', sans-serif;
            background-color: var(--off-white);
            color: var(--preto-elegante);
        }
        .table-container {
            overflow-x: auto; /* Permite scroll horizontal em telas pequenas */
        }
        table {
            width: 100%;
            min-width: 600px; /* Largura mínima para evitar quebra de layout */
        }
        input[type="number"] {
            -webkit-appearance: textfield; -moz-appearance: textfield; appearance: textfield;
            font-family: 'dita', sans-serif;
        }
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
    </style>
</head>
<body class="antialiased p-4 sm:p-6 md:p-8">
    <div class="max-w-4xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-2xl sm:text-3xl font-bold text-gray-800" style="font-weight: 700;">Painel de Controle Financeiro</h1>
            <h2 class="text-lg sm:text-xl font-semibold" style="color: var(--turquesa-principal); font-weight: 700;">WAKE UP VISION</h2>
            <div class="mt-4"><a href="index.html" class="text-sm text-gray-500 hover:text-turquesa-principal">&larr; Voltar ao site principal</a></div>
        </header>

        <div class="bg-white shadow-lg rounded-2xl overflow-hidden">
            <div class="table-container">
                <table class="text-sm sm:text-base">
                    <thead class="bg-[var(--turquesa-principal)] text-[var(--off-white)]">
                        <tr><th colspan="3" class="p-4 text-left font-bold text-lg">INVESTIMENTO OPERACIONAL (CUSTOS)</th></tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        <tr class="font-semibold bg-gray-50">
                            <td class="p-3 w-1/3">CATEGORIA</td>
                            <td class="p-3 w-1/3">ITEM</td>
                            <td class="p-3 w-1/3 text-right">VALOR MENSAL (R$)</td>
                        </tr>
                        <tr class="bg-yellow-100">
                            <td class="p-3">Pró-Labore Lucas</td>
                            <td class="p-3">Salário Estratégico</td>
                            <td id="pro-labore" class="p-3 text-right font-semibold">4.500,00</td>
                        </tr>
                        <tr>
                            <td class="p-3">Ferramentas</td><td class="p-3">Adobe Creative Cloud</td><td id="adobe" class="p-3 text-right">69,90</td>
                        </tr>
                        <tr>
                            <td class="p-3">Ferramentas</td><td class="p-3">Freepik (Anual)</td><td id="freepik" class="p-3 text-right">25,00</td>
                        </tr>
                         <tr>
                            <td class="p-3">Ferramentas</td><td class="p-3">Domínio & Email (Anual)</td><td id="domain" class="p-3 text-right">12,50</td>
                        </tr>
                        <tr>
                            <td class="p-3">Estrutura</td><td class="p-3">Internet + Celular</td><td id="internet" class="p-3 text-right">150,00</td>
                        </tr>
                        <!-- NOVOS CUSTOS ADICIONADOS -->
                        <tr>
                            <td class="p-3">Estrutura</td>
                            <td class="p-3">Água</td>
                            <td class="p-3 text-right"><input id="agua" type="number" min="0" value="0" placeholder="0,00" class="w-24 text-right rounded border-gray-300 shadow-sm"></td>
                        </tr>
                        <tr>
                            <td class="p-3">Estrutura</td>
                            <td class="p-3">Luz</td>
                            <td class="p-3 text-right"><input id="luz" type="number" min="0" value="0" placeholder="0,00" class="w-24 text-right rounded border-gray-300 shadow-sm"></td>
                        </tr>
                        <tr>
                            <td class="p-3">Impostos</td>
                            <td class="p-3">MEI (DAS Mensal)</td>
                            <td id="mei" class="p-3 text-right">72,00</td>
                        </tr>
                        <tr>
                            <td class="p-3">Reinvestimento</td><td class="p-3">Fundo de Depreciação (Hardware)</td><td id="depreciation" class="p-3 text-right font-semibold">220,00</td>
                        </tr>
                         <tr>
                            <td class="p-3">Impostos</td><td class="p-3">Simples Nacional (6%)</td><td id="impostos" class="p-3 text-right font-semibold">0,00</td>
                        </tr>
                    </tbody>
                    <tfoot class="bg-[var(--cinza-sofisticado)] text-[var(--off-white)] font-bold">
                        <tr>
                            <td colspan="2" class="p-4 text-lg">PONTO DE EQUILÍBRIO</td>
                            <td id="ponto-equilibrio" class="p-4 text-right text-lg">0,00</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            
            <div class="my-6"></div>

            <div class="table-container">
                <table>
                    <thead class="bg-[var(--turquesa-principal)] text-[var(--off-white)]">
                        <tr><th colspan="4" class="p-4 text-left font-bold text-lg">RECEITA (SOLUÇÕES WUV)</th></tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        <tr class="font-semibold bg-gray-50">
                            <td class="p-3">SOLUÇÃO</td>
                            <td class="p-3 text-right">VALOR UNIT. (R$)</td>
                            <td class="p-3 text-center">QTD</td>
                            <td class="p-3 text-right">SUBTOTAL (R$)</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-semibold">Diagnóstico & Mapa</td>
                            <td class="p-3 text-right">450,00</td>
                            <td class="p-3 text-center"><input id="qtd-diagnostico" type="number" min="0" value="0" class="w-20 text-center rounded border-gray-300 shadow-sm"></td>
                            <td id="subtotal-diagnostico" class="p-3 text-right font-semibold">0,00</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-semibold">Parceria Estratégica</td>
                            <td class="p-3 text-right">850,00</td>
                            <td class="p-3 text-center"><input id="qtd-parceria" type="number" min="0" value="0" class="w-20 text-center rounded border-gray-300 shadow-sm"></td>
                            <td id="subtotal-parceria" class="p-3 text-right font-semibold">0,00</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-semibold">Motor de Crescimento</td>
                            <td class="p-3 text-right">1.200,00</td>
                            <td class="p-3 text-center"><input id="qtd-motor" type="number" min="0" value="0" class="w-20 text-center rounded border-gray-300 shadow-sm"></td>
                            <td id="subtotal-motor" class="p-3 text-right font-semibold">0,00</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="my-6"></div>

            <div class="table-container">
                <table>
                    <thead class="bg-[var(--turquesa-principal)] text-[var(--off-white)]">
                        <tr><th colspan="2" class="p-4 text-left font-bold text-lg">RECEITAS ADICIONAIS</th></tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        <tr class="font-semibold bg-gray-50"><td class="p-3">CLIENTE / DESCRIÇÃO</td><td class="p-3 text-right">VALOR (R$)</td></tr>
                        <tr><td class="p-3 font-semibold">Cliente Mercepeças</td><td id="cliente-mercepecas" class="p-3 text-right font-semibold">400,00</td></tr>
                         <tr><td class="p-3 font-semibold">Cliente Alimentar</td><td id="cliente-alimentar" class="p-3 text-right font-semibold">650,00</td></tr>
                        <tr><td class="p-3 font-semibold">Outras Receitas</td><td class="p-3 text-right"><input id="custom-revenue" type="number" min="0" step="50" value="0" placeholder="0,00" class="w-32 text-right rounded border-gray-300 shadow-sm"></td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="my-6"></div>
            
            <div class="table-container">
                <table>
                    <thead class="bg-[var(--turquesa-principal)] text-[var(--off-white)]"><tr><th colspan="2" class="p-4 text-left font-bold text-lg">BALANÇO FINAL</th></tr></thead>
                    <tbody>
                        <tr class="bg-[var(--preto-elegante)] text-[var(--dourado-premium)] font-bold">
                            <td class="p-4 text-lg">FATURAMENTO TOTAL</td>
                            <td id="faturamento-total" class="p-4 text-right text-lg">0,00</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr id="resultado-row" class="font-bold">
                            <td class="p-6 text-base sm:text-xl">RESULTADO LÍQUIDO</td>
                            <td id="resultado-liquido" class="p-6 text-right text-base sm:text-xl">0,00</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>

    <script>
        function formatCurrency(value) { return value.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 }); }
        function parseCurrency(value) { return parseFloat(String(value).replace(/\./g, '').replace(',', '.')) || 0; }
        
        // Selecionando todos os elementos do DOM
        const proLaboreEl = document.getElementById('pro-labore');
        const adobeEl = document.getElementById('adobe');
        const freepikEl = document.getElementById('freepik');
        const domainEl = document.getElementById('domain');
        const internetEl = document.getElementById('internet');
        const aguaInput = document.getElementById('agua');
        const luzInput = document.getElementById('luz');
        const meiEl = document.getElementById('mei');
        const depreciationEl = document.getElementById('depreciation');
        const impostosEl = document.getElementById('impostos');
        const pontoEquilibrioEl = document.getElementById('ponto-equilibrio');
        const qtdDiagnosticoInput = document.getElementById('qtd-diagnostico');
        const qtdParceriaInput = document.getElementById('qtd-parceria');
        const qtdMotorInput = document.getElementById('qtd-motor');
        const subtotalDiagnosticoEl = document.getElementById('subtotal-diagnostico');
        const subtotalParceriaEl = document.getElementById('subtotal-parceria');
        const subtotalMotorEl = document.getElementById('subtotal-motor');
        const clienteMercepecasEl = document.getElementById('cliente-mercepecas');
        const clienteAlimentarEl = document.getElementById('cliente-alimentar');
        const customRevenueInput = document.getElementById('custom-revenue');
        const faturamentoTotalEl = document.getElementById('faturamento-total');
        const resultadoLiquidoEl = document.getElementById('resultado-liquido');
        const resultadoRowEl = document.getElementById('resultado-row');
        
        const PRECO_DIAGNOSTICO = 450.00;
        const PRECO_PARCERIA = 850.00;
        const PRECO_MOTOR = 1200.00;
        const TAXA_IMPOSTO = 0.06;

        function updateDashboard() {
            const qtdDiagnostico = parseInt(qtdDiagnosticoInput.value) || 0;
            const qtdParceria = parseInt(qtdParceriaInput.value) || 0;
            const qtdMotor = parseInt(qtdMotorInput.value) || 0;
            const subtotalDiagnostico = qtdDiagnostico * PRECO_DIAGNOSTICO;
            const subtotalParceria = qtdParceria * PRECO_PARCERIA;
            const subtotalMotor = qtdMotor * PRECO_MOTOR;
            subtotalDiagnosticoEl.textContent = formatCurrency(subtotalDiagnostico);
            subtotalParceriaEl.textContent = formatCurrency(subtotalParceria);
            subtotalMotorEl.textContent = formatCurrency(subtotalMotor);
            
            const receitaSolucoes = subtotalDiagnostico + subtotalParceria + subtotalMotor;
            const receitaMercepecas = parseCurrency(clienteMercepecasEl.textContent);
            const receitaAlimentar = parseCurrency(clienteAlimentarEl.textContent);
            const receitaCustom = parseFloat(customRevenueInput.value) || 0;
            const receitaAdicional = receitaMercepecas + receitaAlimentar + receitaCustom;
            const faturamentoTotal = receitaSolucoes + receitaAdicional;
            faturamentoTotalEl.textContent = formatCurrency(faturamentoTotal);
            
            const impostos = faturamentoTotal * TAXA_IMPOSTO;
            impostosEl.textContent = formatCurrency(impostos);
            
            const custosFixosBase = parseCurrency(proLaboreEl.textContent) + 
                                  parseCurrency(adobeEl.textContent) + 
                                  parseCurrency(freepikEl.textContent) + 
                                  parseCurrency(domainEl.textContent) + 
                                  parseCurrency(internetEl.textContent) + 
                                  (parseFloat(aguaInput.value) || 0) + 
                                  (parseFloat(luzInput.value) || 0) + 
                                  parseCurrency(meiEl.textContent) + 
                                  parseCurrency(depreciationEl.textContent);
            
            const custoTotal = custosFixosBase + impostos;
            pontoEquilibrioEl.textContent = formatCurrency(custoTotal);
            
            const resultadoLiquido = faturamentoTotal - custoTotal;
            resultadoLiquidoEl.textContent = formatCurrency(resultadoLiquido);
            
            resultadoRowEl.classList.remove('bg-[var(--verde-sucesso)]', 'bg-[var(--vermelho-alerta)]', 'text-black', 'text-white');
            if (resultadoLiquido >= 0) {
                resultadoRowEl.classList.add('bg-[var(--verde-sucesso)]', 'text-black');
            } else {
                resultadoRowEl.classList.add('bg-[var(--vermelho-alerta)]', 'text-white');
            }
        }
        
        // Adicionando listeners para todos os inputs
        [qtdDiagnosticoInput, qtdParceriaInput, qtdMotorInput, customRevenueInput, aguaInput, luzInput].forEach(input => {
            input.addEventListener('input', updateDashboard);
        });

        document.addEventListener('DOMContentLoaded', updateDashboard);
    </script>
</body>
</html>
